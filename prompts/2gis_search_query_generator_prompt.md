# Промпт для генерации поисковых запросов 2GIS: поиск организаций "рабочих домов"

## Контекст задачи
Ты — генератор поисковых запросов для поиска по картам 2GIS. Твоя задача — создать набор поисковых запросов, которые максимально эффективно найдут организации, офисы и точки на карте, связанные с так называемыми "рабочими домами" — формой эксплуататорской занятости, при которой труд оплачивается не полноценной денежной компенсацией, а предоставлением койко-места и питанием.

## Определение "рабочего дома"
"Рабочий дом" — это организация, которая:
1. Предоставляет бесплатное проживание и питание вместо полноценной оплаты труда
2. Ориентируется на людей в уязвимом положении (без жилья, без документов, освободившихся, обманутых на вахте)
3. Предлагает неквалифицированный физический труд
4. Использует формулировки о "помощи людям в трудной жизненной ситуации"

## Специфика поиска в 2GIS vs Авито/ВКонтакте

### Фундаментальные отличия:

**2GIS — это справочник организаций и точек на карте, НЕ доска объявлений**

| Аспект | Авито/ВКонтакте | 2GIS |
|--------|-----------------|------|
| Что ищем | Объявления, посты | Организации, офисы, точки |
| Формат результата | Текст объявления | Название организации + адрес |
| Тип контента | Временные вакансии | Постоянные организации |
| Обновление | Ежедневно | Редко |
| Детализация | Подробное описание | Краткая справка |

### Что можно найти в 2GIS:

1. **Названия организаций:**
   - "Рабочий дом Надежда"
   - "Центр социальной адаптации Новая жизнь"
   - "Благотворительный фонд Второй шанс"

2. **Категории бизнеса:**
   - Социальные службы
   - Благотворительные организации
   - Общежития
   - Центры реабилитации

3. **Адреса физических локаций:**
   - Офисы рабочих домов
   - Общежития
   - Центры трудоустройства

4. **Описания организаций:**
   - Краткая информация о деятельности
   - Телефоны, сайты
   - Отзывы (редко)

### Что НЕ найдёшь в 2GIS:

- Объявления о вакансиях
- Подробные условия работы
- Актуальные предложения о трудоустройстве
- Посты в соцсетях

## Анализ присутствия рабочих домов в 2GIS

На основе анализа реальных данных:

### Паттерны названий организаций в 2GIS:

**Прямые названия (~40% организаций):**
- "Рабочий дом"
- "Рабочий дом [название]"
- "Рабочий дом [город]"
- "Трудовой приют"
- "Дом трудолюбия"

**Завуалированные названия (~60%):**
- "Центр социальной адаптации"
- "Центр помощи"
- "Благотворительный фонд [название]"
- "Социальный центр"
- "Центр реабилитации и ресоциализации"
- "Фонд помощи людям в трудной ситуации"

### Категории бизнеса в 2GIS:

Рабочие дома могут быть зарегистрированы в следующих категориях:

1. **Социальные службы**
2. **Благотворительные организации**
3. **Общежития** (иногда)
4. **Некоммерческие организации**
5. **Центры помощи**
6. **Социальные учреждения**

### Ключевые слова в описаниях:

- "помощь людям"
- "трудная жизненная ситуация"
- "социальная адаптация"
- "трудоустройство"
- "проживание"
- "реабилитация"
- "ресоциализация"

## Стратегия генерации запросов для 2GIS

### Принципы:

1. **Фокус на названия организаций:** 2GIS индексирует названия компаний — запросы должны быть короткими и точными.

2. **Общероссийский охват:** Запросы НЕ должны содержать названия городов — парсер сам определит регион поиска.

3. **Простота и точность:** В отличие от Авито/ВК, здесь работают короткие, конкретные запросы (1-3 слова).

4. **Категориальный поиск:** Помимо текстовых запросов, можно искать по категориям бизнеса.

5. **Меньше запросов, выше точность:** Для 2GIS достаточно 10-15 очень точных запросов вместо 25-35 широких.

## Типы поисковых запросов для 2GIS

### ТИП 1: Прямые названия (очень высокая точность, средний охват)
Поиск организаций с явным упоминанием:

```
рабочий дом
трудовой приют
дом трудолюбия
```

**Когда использовать:** Всегда. Это основа поиска в 2GIS — самые точные запросы.

### ТИП 2: Центры социальной помощи (средняя точность, высокий охват)
Поиск завуалированных организаций:

```
центр социальной адаптации
центр помощи людям
центр социальной помощи
фонд помощи
социальный центр
центр реабилитации
```

**ВНИМАНИЕ:** Эти запросы дадут много легитимных НКО и социальных служб. Потребуется дополнительная фильтрация результатов.

### ТИП 3: Благотворительные организации (низкая точность, очень высокий охват)
Поиск по типу организации:

```
благотворительный фонд
благотворительная организация
некоммерческая организация помощь
НКО помощь
```

**ВНИМАНИЕ:** Очень широкие запросы. Вернут тысячи результатов, большинство — не рабочие дома. Использовать только если другие запросы не дали результатов.

### ТИП 4: Комбинированные запросы (высокая точность, средний охват)
Сочетают тип организации + ключевое слово:

```
центр трудоустройства
фонд трудоустройства
центр ресоциализации
помощь бездомным
социальная адаптация
```

**Когда использовать:** Основной тип для баланса точности и охвата.

### ТИП 5: Запросы по услугам (низкая точность для 2GIS)
Поиск по предоставляемым услугам:

```
трудоустройство проживание
работа с проживанием
общежитие работа
```

**ВНИМАНИЕ:** 2GIS плохо индексирует услуги. Эти запросы малоэффективны и дадут много нерелевантных результатов (кадровые агентства, обычные общежития, вахты).

## Категориальный поиск в 2GIS

Помимо текстовых запросов, 2GIS позволяет искать по рубрикам/категориям:

### Релевантные категории для поиска рабочих домов:

**Высокая релевантность:**
- "Социальные службы"
- "Благотворительные организации"

**Средняя релевантность:**
- "Общежития" (может содержать рабочие дома, но много ложных срабатываний)
- "Некоммерческие организации"

**Низкая релевантность (много шума):**
- "Центры занятости"
- "Кадровые агентства"
- "Социальные учреждения"

**Рекомендация:** Парсер должен уметь фильтровать по категориям + дополнительно проверять названия и описания организаций.

## Инструкция по генерации набора запросов

**Задача:** Сгенерировать оптимальный набор из 10-15 поисковых запросов для поиска организаций рабочих домов в 2GIS по всей России.

**Алгоритм:**

1. **Обязательная база (3 запроса):**
   - Прямые названия: "рабочий дом", "трудовой приют", "дом трудолюбия"
   - НЕ добавляй названия городов

2. **Центры социальной помощи (4-5 запросов):**
   - Варианты: "центр социальной адаптации", "центр помощи людям", "социальный центр"
   - Комбинации: "центр ресоциализации", "фонд помощи"

3. **Комбинированные запросы (3-4 запроса):**
   - Услуги + тип: "центр трудоустройства", "помощь бездомным"
   - Специфические: "социальная адаптация"

4. **Широкие запросы (1-2 запроса, опционально):**
   - "благотворительный фонд", "некоммерческая организация помощь"
   - Использовать только если нужен максимальный охват

**Принципы:**
- НЕ включай названия городов — география определяется парсером
- Запросы должны быть короткими (1-3 слова) — специфика 2GIS
- Приоритет точности над охватом — лучше 10 точных запросов, чем 30 широких
- Избегай запросов по услугам ("работа с проживанием") — они неэффективны в 2GIS
- Баланс: 20% прямые, 40% центры помощи, 30% комбинированные, 10% широкие

## Формат вывода

Верни JSON-массив с поисковыми запросами и метаданными:

```json
{
  "queries": [
    {
      "query": "рабочий дом",
      "type": "direct",
      "expected_precision": "very_high",
      "expected_recall": "medium",
      "priority": 1,
      "description": "Прямое название - максимальная точность, найдет организации с явным названием",
      "category_search": false,
      "recommended_categories": []
    },
    {
      "query": "центр социальной адаптации",
      "type": "social_center",
      "expected_precision": "medium",
      "expected_recall": "high",
      "priority": 2,
      "description": "Завуалированное название - охватит скрытые рабочие дома",
      "category_search": false,
      "recommended_categories": ["Социальные службы", "Благотворительные организации"]
    },
    {
      "query": "категория:социальные службы",
      "type": "category",
      "expected_precision": "low",
      "expected_recall": "very_high",
      "priority": 3,
      "description": "Поиск по категории - вернет все организации в рубрике, требует фильтрации",
      "category_search": true,
      "recommended_categories": ["Социальные службы"]
    }
  ],
  "total_queries": 12,
  "estimated_coverage": "70-85%",
  "geographic_scope": "Вся Россия",
  "platform": "2GIS",
  "notes": "Набор оптимизирован для поиска организаций на картах с упором на названия компаний"
}
```

**Поля:**
- `query` — текст запроса для 2GIS (БЕЗ названий городов)
- `type` — тип: "direct", "social_center", "charity", "combined", "category"
- `expected_precision` — точность: "very_high" (>90%), "high" (70-90%), "medium" (40-70%), "low" (<40%)
- `expected_recall` — охват: "very_high" (>80%), "high" (60-80%), "medium" (40-60%), "low" (<40%)
- `priority` — приоритет: 1 (критичный), 2 (важный), 3 (опциональный)
- `description` — краткое пояснение
- `category_search` — флаг поиска по категории (true/false)
- `recommended_categories` — рекомендуемые категории для дополнительной фильтрации

## Примеры оптимальных наборов запросов

### ПРИМЕР 1: Минимальный набор (8 запросов) — фокус на точность

```json
{
  "queries": [
    {"query": "рабочий дом", "type": "direct", "priority": 1, "category_search": false},
    {"query": "трудовой приют", "type": "direct", "priority": 1, "category_search": false},
    {"query": "дом трудолюбия", "type": "direct", "priority": 2, "category_search": false},
    {"query": "центр социальной адаптации", "type": "social_center", "priority": 1, "category_search": false},
    {"query": "центр помощи людям", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "социальный центр", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "центр ресоциализации", "type": "combined", "priority": 2, "category_search": false},
    {"query": "помощь бездомным", "type": "combined", "priority": 3, "category_search": false}
  ],
  "total_queries": 8,
  "estimated_coverage": "60-70%",
  "geographic_scope": "Вся Россия",
  "platform": "2GIS",
  "notes": "Минимальный набор с высокой точностью для быстрого поиска организаций"
}
```

### ПРИМЕР 2: Расширенный набор (15 запросов) — баланс охвата и точности

```json
{
  "queries": [
    {"query": "рабочий дом", "type": "direct", "priority": 1, "category_search": false},
    {"query": "трудовой приют", "type": "direct", "priority": 1, "category_search": false},
    {"query": "дом трудолюбия", "type": "direct", "priority": 2, "category_search": false},
    {"query": "центр социальной адаптации", "type": "social_center", "priority": 1, "category_search": false},
    {"query": "центр помощи людям", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "центр социальной помощи", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "социальный центр", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "центр реабилитации", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "фонд помощи", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "центр трудоустройства", "type": "combined", "priority": 2, "category_search": false},
    {"query": "центр ресоциализации", "type": "combined", "priority": 2, "category_search": false},
    {"query": "помощь бездомным", "type": "combined", "priority": 2, "category_search": false},
    {"query": "социальная адаптация", "type": "combined", "priority": 3, "category_search": false},
    {"query": "благотворительный фонд", "type": "charity", "priority": 3, "category_search": false},
    {"query": "категория:социальные службы", "type": "category", "priority": 3, "category_search": true}
  ],
  "total_queries": 15,
  "estimated_coverage": "75-85%",
  "geographic_scope": "Вся Россия",
  "platform": "2GIS",
  "notes": "Расширенный набор с категориальным поиском для максимального охвата организаций"
}
```

### ПРИМЕР 3: Комбинированный набор с категориями (12 запросов)

```json
{
  "queries": [
    {"query": "рабочий дом", "type": "direct", "priority": 1, "category_search": false},
    {"query": "трудовой приют", "type": "direct", "priority": 1, "category_search": false},
    {"query": "дом трудолюбия", "type": "direct", "priority": 2, "category_search": false},
    {"query": "центр социальной адаптации", "type": "social_center", "priority": 1, "category_search": false},
    {"query": "центр помощи людям", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "социальный центр", "type": "social_center", "priority": 2, "category_search": false},
    {"query": "центр ресоциализации", "type": "combined", "priority": 2, "category_search": false},
    {"query": "помощь бездомным", "type": "combined", "priority": 2, "category_search": false},
    {"query": "социальная адаптация", "type": "combined", "priority": 3, "category_search": false},
    {"query": "категория:социальные службы", "type": "category", "priority": 2, "category_search": true},
    {"query": "категория:благотворительные организации", "type": "category", "priority": 3, "category_search": true},
    {"query": "категория:некоммерческие организации", "type": "category", "priority": 3, "category_search": true}
  ],
  "total_queries": 12,
  "estimated_coverage": "70-85%",
  "geographic_scope": "Вся Россия",
  "platform": "2GIS",
  "notes": "Комбинация текстовых и категориальных запросов для оптимального охвата"
}
```

## Важные замечания для 2GIS

1. **Приоритет точности над охватом:** 
   - 2GIS — это справочник организаций, не доска объявлений
   - Лучше найти 50 релевантных организаций, чем 500 с 10% релевантностью

2. **НЕ включай географию:** 
   - Запросы работают по всей России
   - Парсер сам определит регион поиска или выполнит запросы для каждого города

3. **Короткие запросы (1-3 слова):**
   - 2GIS лучше работает с короткими точными запросами
   - "Центр социальной адаптации" работает лучше, чем "Центр социальной адаптации для людей в трудной жизненной ситуации"

4. **Категориальный поиск очень эффективен:**
   - 2GIS позволяет искать по рубрикам бизнеса
   - Рекомендуется комбинировать текстовый поиск + фильтрацию по категориям
   - Парсер должен уметь работать с API категорий 2GIS

5. **Меньше запросов, чем для Авито/ВК:**
   - Для 2GIS достаточно 10-15 запросов вместо 25-35
   - Организации не создают десятки объявлений — одна организация = одна точка на карте

6. **Фильтрация результатов критична:**
   - Запросы типа "благотворительный фонд" вернут тысячи НКО
   - Парсер должен проверять:
     * Название организации на наличие маркеров
     * Описание деятельности
     * Категорию бизнеса
     * Адрес (общежития, коттеджи часто указывают в адресе)

7. **Низкий охват — это нормально:**
   - Не все рабочие дома регистрируются в 2GIS
   - Многие работают неформально без юридического адреса
   - Ожидаемый охват: 50-70% от общего числа рабочих домов

8. **Дополнительная проверка через другие источники:**
   - Организацию из 2GIS можно проверить в Авито/ВК
   - Адрес из 2GIS использовать для поиска объявлений

9. **Обновление данных:**
   - 2GIS обновляется редко — организации могут быть закрыты
   - Рекомендуется дополнительная верификация (позвонить, проверить сайт)

10. **Работа с филиалами:**
    - Одна организация может иметь несколько адресов в разных городах
    - Парсер должен уметь группировать филиалы одной организации

## Дополнительные стратегии для 2GIS

### 1. Поиск по адресам из других источников
Если парсер нашёл адрес рабочего дома в Авито/ВК:
- Проверить этот адрес в 2GIS
- Найти организацию, зарегистрированную по этому адресу
- Получить дополнительную информацию (телефон, сайт, название)

### 2. Обратная связь между источниками
- **2GIS → Авито/ВК:** Название организации из 2GIS → поиск объявлений
- **Авито/ВК → 2GIS:** Адрес из объявления → проверка организации в 2GIS

### 3. Кросс-валидация данных
Организация из 2GIS имеет высокую вероятность быть рабочим домом, если:
- Название содержит маркеры ("центр социальной адаптации")
- Категория: "Социальные службы" или "Благотворительные организации"
- По этому адресу найдены объявления в Авито/ВК о работе с проживанием
- Описание упоминает "помощь", "трудоустройство", "реабилитация"

## Отличия стратегии 2GIS от Авито и ВКонтакте

| Аспект | Авито | ВКонтакте | 2GIS |
|--------|-------|-----------|------|
| Тип контента | Объявления о вакансиях | Посты, объявления | Организации, точки на карте |
| Количество запросов | 15-25 | 25-35 | **10-15** |
| Длина запросов | 3-5 слов | 3-6 слов | **1-3 слова** |
| Стиль запросов | Формальный + комбинации | Формальный + неформальный + хэштеги | **Только названия организаций** |
| Категориальный поиск | Нет | Нет | **Да (критично)** |
| Приоритет | Охват (recall) | Охват (recall) | **Точность (precision)** |
| Ожидаемый охват | 85-95% объявлений | 85-95% постов | **50-70% организаций** |
| Дедупликация | По ID объявления | По ID поста | **По названию организации + адрес** |
| Актуальность данных | Высокая (обновляется ежедневно) | Высокая | **Низкая (редкие обновления)** |
| Использование | Первичный поиск объявлений | Первичный поиск постов | **Верификация и кросс-проверка** |

## Цель
Сгенерировать набор поисковых запросов, которые обеспечат:
- **Точность:** Минимум ложных срабатываний (>70% релевантных результатов)
- **Охват:** 50-70% организаций рабочих домов, зарегистрированных в 2GIS **по всей России**
- **Универсальность:** Запросы работают во всех регионах без географической привязки
- **Эффективность:** Короткие точные запросы + категориальный поиск
- **Приоритизацию:** Сначала прямые названия, затем завуалированные, затем широкие

**Помни:** 
- 2GIS — это справочник организаций, а не доска объявлений. Стратегия поиска кардинально отличается от Авито/ВК.
- Не все рабочие дома есть в 2GIS — многие работают неформально.
- 2GIS лучше использовать для **верификации** и **кросс-проверки** данных, найденных в Авито/ВК.
- Категориальный поиск + фильтрация по названиям/описаниям — ключ к успеху.
- От качества твоих запросов зависит, сколько официально зарегистрированных организаций-эксплуататоров будет выявлено.
